# [LABEL:TEST:config] [LABEL:FRAMEWORK:pytest] [LABEL:CONFIG:testing]
# [LABEL:AUTHOR:system] [LABEL:UPDATED:2025-11-17] [LABEL:REVIEWED:pending]
#
# Purpose: Pytest configuration for unit and integration test execution
# Dependencies: pytest, pytest-asyncio
# Related: unit-tests/, integration-tests/, unit-tests/conftest.py
#
[pytest]
testpaths = unit-tests integration-tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts =
    --strict-markers
    --strict-config
    -p pytest_asyncio
    --cov=src
    --cov=integration-tests
    --cov-report=term-missing
    --cov-report=html:htmlcov
    --cov-report=xml
    --cov-fail-under=30
norecursedirs = myenv archive backups docs examples integrations redis scripts setup simulations src tools vault-config

markers =
    ibkr: tests requiring real IBKR connection
    mocked: tests using mocks
    parallel: tests that can run in parallel
    fast: quick unit tests
    slow: longer integration tests
asyncio_mode = auto
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::pytest.PytestRemovedIn9Warning
    ignore::pytest.PytestDeprecationWarning
    ignore::ResourceWarning
