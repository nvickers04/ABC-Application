# Options Data Subagent

## Overview
The Options Data Subagent specializes in derivatives data collection, analysis, and volatility surface modeling. It provides comprehensive options market intelligence including pricing data, volatility analysis, and market microstructure for informed options trading and risk management.

## Core Capabilities

### Options Data Collection
- **Real-time Options Chains**: Live bid-ask prices, volumes, and open interest
- **Historical Options Data**: Multi-year options pricing and trading history
- **Volatility Surfaces**: Implied volatility across strikes and expirations
- **Greeks Calculation**: Delta, gamma, theta, vega, rho for all options

### Volatility Analysis
- **Implied Volatility**: Real-time IV calculation and surface modeling
- **Realized Volatility**: Historical volatility measurement and forecasting
- **Volatility Skew**: Risk-reversal and butterfly analysis
- **Term Structure**: Volatility curves across different expiration dates

### Market Microstructure
- **Order Flow Analysis**: Options market buying vs selling pressure
- **Market Maker Activity**: Dealer positioning and quote management
- **Liquidity Assessment**: Options market depth and trading costs
- **Arbitrage Opportunities**: Statistical arbitrage and pricing inefficiencies

## Data Sources

### Options Market Data
- **IBKR Options API**: Real-time options chains and market data
- **Options Exchanges**: Direct feeds from CBOE, CME, and other exchanges
- **Options Analytics Providers**: Historical options data and analytics
- **Market Data Vendors**: Bloomberg, Reuters options data services

### Volatility Data
- **VIX and VIX Variants**: Broad market volatility indices
- **Single Stock Volatility**: Individual equity implied volatility
- **Sector Volatility**: Industry-specific volatility measures
- **Currency Volatility**: FX options implied volatility

### Derivatives Intelligence
- **Options Positioning**: Institutional options holdings and flows
- **Hedge Fund Activity**: Derivative positioning and risk management
- **Retail Options Data**: Retail trader sentiment and positioning
- **Dark Options Flow**: OTC and block options trading

## LLM Integration

### Options Strategy Analysis
- **Pricing Model Validation**: Assessing theoretical vs market prices
- **Volatility Interpretation**: Understanding volatility signals and market implications
- **Risk Assessment**: Comprehensive options risk analysis and scenario planning
- **Market Intelligence**: Options market insights and unusual activity detection

### Research Workflow
1. **Data Aggregation**: Collect comprehensive options market data
2. **Volatility Modeling**: Build and maintain volatility surfaces
3. **LLM Deep Analysis**: Evaluate options market conditions and implications
4. **Signal Generation**: Identify actionable options trading opportunities
5. **Collaborative Sharing**: Distribute options intelligence to other subagents

## Collaborative Memory System

### Memory Architecture
- **Volatility Pattern Storage**: Maintains historical volatility patterns and regime changes
- **Options Strategy Performance**: Tracks success rates of different options approaches
- **Market Microstructure Insights**: Stores options market behavior patterns
- **Risk Management Knowledge**: Accumulates options risk management best practices

### Memory Management
- **Session-Based Storage**: Memory exists only during active research sessions
- **Collaborative Sharing**: Enables cross-subagent validation and enhancement
- **Base Agent Transfer**: Delivers options analysis with complete context
- **Cleanup Protocol**: Automatic deletion of temporary options data after transfer

## Options Analysis Framework

### Pricing and Valuation
- **Black-Scholes Model**: European options pricing and risk metrics
- **Binomial Trees**: American options and early exercise valuation
- **Monte Carlo Simulation**: Complex options and path-dependent securities
- **Finite Difference Methods**: Advanced PDE solutions for exotic options

### Volatility Modeling
- **Stochastic Volatility**: Heston and SABR models for volatility dynamics
- **Local Volatility**: Dupire's equation and volatility surface calibration
- **Jump Diffusion**: Merton model for discontinuous price movements
- **Regime-Switching Models**: Volatility regime identification and transitions

### Risk Management
- **Value at Risk (VaR)**: Options portfolio risk assessment
- **Stress Testing**: Extreme market condition analysis
- **Hedge Ratios**: Delta-gamma hedging and portfolio insurance
- **Scenario Analysis**: Options performance under different market conditions

## Integration with Base DataAgent

### Communication Protocol
- **Options Data Feeds**: Real-time options pricing and market data
- **Volatility Reports**: Implied and realized volatility analysis
- **Risk Metrics**: Options greeks and risk management data
- **Trading Signals**: Options-based market signals and opportunities

### Collaborative Enhancement
- **Market Data Integration**: Underlying asset price correlation with options
- **Economic Data**: Macro factors affecting volatility and options pricing
- **Sentiment Analysis**: Options positioning as sentiment indicator
- **Technical Analysis**: Chart patterns and options market confirmation

## Market Intelligence

### Options Flow Analysis
- **Institutional Positioning**: Large trader options activity and positioning
- **Retail Sentiment**: Put/call ratios and retail options positioning
- **Unusual Activity**: Abnormal options volume and open interest changes
- **Hedge Fund Flows**: Derivative positioning and risk management signals

### Volatility Signals
- **Implied vs Realized**: Volatility risk premium and market expectations
- **Skew Analysis**: Risk sentiment and crash protection demand
- **Term Structure**: Market timing and volatility expectations
- **Cross-Asset Volatility**: Correlations between different asset classes

## Performance Tracking

### Data Quality Metrics
- **Pricing Accuracy**: Theoretical vs market price discrepancies
- **Data Completeness**: Coverage across strikes, expirations, and underlying assets
- **Update Frequency**: Real-time data latency and refresh rates
- **Historical Depth**: Length and granularity of historical options data

### Analysis Accuracy
- **Volatility Forecasting**: Accuracy of implied volatility predictions
- **Pricing Model Performance**: Model fit and prediction accuracy
- **Signal Effectiveness**: Success rate of options-based trading signals
- **Risk Assessment**: Accuracy of risk metrics and stress test results

## Future Enhancements

### Advanced Features
- **Machine Learning Integration**: ML-driven volatility forecasting and options pricing
- **Real-time Risk Management**: Live options portfolio monitoring and adjustment
- **Exotic Options Analysis**: Complex derivatives pricing and risk assessment
- **Crypto Options**: Blockchain-based options markets and DeFi derivatives